(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{20:function(e,t,r){},25:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),c=r(8),a=r.n(c),i=(r(20),r(11)),o=r.n(i),l=r(4),h=r(12),u=r(1),d=function(e){return Object(u.jsx)("div",{style:{overflowY:"scroll",height:"60vh"},children:e.children})};var j=function(e){var t,r,s,n=e.course._source,c=null!==(t=null===n||void 0===n||null===(r=n.schlagwort)||void 0===r||null===(s=r.join)||void 0===s?void 0:s.call(r," | "))&&void 0!==t?t:null===n||void 0===n?void 0:n.schlagwort;return Object(u.jsxs)("li",{className:"pa1 pa2-ns bb relative",children:[Object(u.jsx)("b",{className:"db f3 mb1",children:n.name}),Object(u.jsx)("span",{className:"f5 db lh-copy measure",children:n.untertitel}),Object(u.jsx)("span",{className:"f5 db lh-copy measure courier",children:c}),Object(u.jsx)("a",{className:"absolute top-0 right-0",href:n.webadresse.uri,target:"_blank",rel:"noopener noreferrer",children:Object(u.jsx)("img",{alt:"Go to course",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAkklEQVRIie2VQQqAIBQFh+5QdKSuUsetRfs8SG2Mgur7UmvlgLjxvRERhcJLOsABqzF2lDUXlkAwWRBccEMNjF8JGmDymX3OJjjvfAbanIK7cimvCJ7KswiscglLkFxuCdTyqCN6s/MowcBxzxsrHCsA6IXyJIHKJV8llEn8LnB+Dj3Z1jPtMOjQ/oSnsfiOgs4GdhCGDgYn7KYAAAAASUVORK5CYII="})})]})};var b=function(e){var t=e.filteredCourses.map((function(e){return Object(u.jsx)(j,{course:e},e._id)}));return Object(u.jsx)("ul",{className:"list pl0 mt0 measure center",children:t})},p=r(27),f=r(28),m=r(29),v=r(30),g=(r(23),r(3)),x=r.n(g),O=r(13),A=r(14);var w=function(e){var t=e.filteredCourses,r=x.a.icon({iconUrl:O.a,shadowUrl:A.a});x.a.Marker.prototype.options.icon=r;var s=t.map((function(e){return e._source})).filter((function(e){var t,r;return null===(t=e.veranstaltungsort)||void 0===t||null===(r=t.adresse)||void 0===r?void 0:r.location}));return Object(u.jsxs)(m.a,{center:[52.5,13.4],zoom:11,scrollWheelZoom:!1,style:{width:"100%",height:600},children:[Object(u.jsx)(v.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map((function(e){return function(e){var t=[e.veranstaltungsort.adresse.location.lat,e.veranstaltungsort.adresse.location.lon],r=e.text.map((function(e){return Object(u.jsx)("p",{dangerouslySetInnerHTML:{__html:e.text}},e.eigenschaft)}));return Object(u.jsx)(p.a,{position:t,children:Object(u.jsxs)(f.a,{maxHeight:"200",children:[Object(u.jsx)("a",{href:e.webadresse.uri,target:"_blank",rel:"noopener noreferrer",children:Object(u.jsx)("h2",{children:e.name})}),r]})},e.guid)}(e)}))]})},y="https://memory-optimized-deployment-e09c4a.es.eu-central-1.aws.cloud.es.io:9243",N=["name","name.typeAhead","untertitel","untertitel.typeAhead","schlagwort^10","schlagwort.typeAhead"];function S(e){return e?{query:{multi_match:{type:"cross_fields",query:e,fields:N}}}:{query:{match_all:{}}}}function C(e){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(o.a.mark((function e(t){var r,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S(t),e.next=3,fetch("".concat(y,"/kurse/_search"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"ApiKey blNWSVRuc0JPSlRLQkhzTk03eXA6TUVvUHpTM0NUa2EtS3VhWUZtUVp1QQ"},body:JSON.stringify(r)});case 3:return s=e.sent,e.next=6,s.json();case 6:return n=e.sent,e.abrupt("return",n.hits.hits);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1];return Object(s.useEffect)((function(){return C("").then(n)}),[]),Object(u.jsxs)("div",{className:"flex flex-column helvetica",children:[Object(u.jsxs)("section",{className:"w-100 pa2",children:[Object(u.jsxs)("div",{className:"ma0",children:[Object(u.jsx)("h2",{className:"f2",children:"VHS Berlin Course Search"}),Object(u.jsxs)("p",{children:["The ",Object(u.jsx)("a",{href:"https://www.berlin.de/vhs/",children:"official VHS page"}),"offers a very detailed but cumbersome search. It specifically does not give good feedback on the location of courses even though that is very important for many people."]}),Object(u.jsxs)("p",{children:["This page is a tech demo to show that a better search of VHS courses is possible. It uses the powerful ",Object(u.jsx)("a",{href:"https://www.elastic.co/elasticsearch/",children:"Elasticsearch"})," engine."]}),Object(u.jsxs)("p",{children:["The source code and some documentation can be found on ",Object(u.jsx)("a",{href:"https://github.com/PapaBravo/vhs",children:"github"}),"."]})]}),Object(u.jsx)("div",{className:"pa2",children:Object(u.jsx)("input",{className:"pa3 bb br3 b--none bg-lightest-blue ma3",type:"search",placeholder:"Search Course",onChange:function(e){return C(e.target.value).then(n)}})})]}),Object(u.jsxs)("section",{className:"flex items-start relative",children:[Object(u.jsx)("section",{className:"w-third pa2",children:Object(u.jsx)(d,{children:Object(u.jsx)(b,{filteredCourses:r})})}),Object(u.jsx)("section",{className:"w-two-thirds pa2",children:Object(u.jsx)(w,{filteredCourses:r})})]})]})};var U=function(){return Object(u.jsx)("div",{className:"tc ma0 pa4 min-vh-100",children:Object(u.jsx)(T,{details:[]})})},B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,31)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),s(e),n(e),c(e),a(e)}))};r(24);a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root")),B()}},[[25,1,2]]]);
//# sourceMappingURL=main.8bb8f695.chunk.js.map