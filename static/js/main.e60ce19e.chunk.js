(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{20:function(e,t,s){},25:function(e,t,s){"use strict";s.r(t);var r=s(0),n=s.n(r),a=s(8),c=s.n(a),i=(s(20),s(11)),o=s.n(i),l=s(4),h=s(12),u=s(1),d=function(e){return Object(u.jsx)("div",{style:{overflowY:"scroll",height:"70vh"},children:e.children})};var j=function(e){var t,s,r,n=e.course._source,a=null!==(t=null===n||void 0===n||null===(s=n.schlagwort)||void 0===s||null===(r=s.join)||void 0===r?void 0:r.call(s," | "))&&void 0!==t?t:null===n||void 0===n?void 0:n.schlagwort;return Object(u.jsxs)("li",{className:"pa1 pa2-ns bb relative",children:[Object(u.jsx)("b",{className:"db f3 mb1",children:n.name}),Object(u.jsx)("span",{className:"f5 db lh-copy measure",children:n.untertitel}),Object(u.jsx)("span",{className:"f5 db lh-copy measure courier",children:a}),Object(u.jsx)("a",{className:"absolute top-0 right-0",href:n.webadresse.uri,target:"_blank",rel:"noopener noreferrer",children:Object(u.jsx)("img",{alt:"Go to course",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAkklEQVRIie2VQQqAIBQFh+5QdKSuUsetRfs8SG2Mgur7UmvlgLjxvRERhcJLOsABqzF2lDUXlkAwWRBccEMNjF8JGmDymX3OJjjvfAbanIK7cimvCJ7KswiscglLkFxuCdTyqCN6s/MowcBxzxsrHCsA6IXyJIHKJV8llEn8LnB+Dj3Z1jPtMOjQ/oSnsfiOgs4GdhCGDgYn7KYAAAAASUVORK5CYII="})})]})};var b=function(e){var t=e.filteredCourses.map((function(e){return Object(u.jsx)(j,{course:e},e._id)}));return Object(u.jsx)("ul",{className:"list pl0 mt0 measure center",children:t})},p=s(27),m=s(28),f=s(29),g=s(30),v=(s(23),s(3)),x=s.n(v),O=s(13),A=s(14);var y=function(e){var t=e.filteredCourses,s=x.a.icon({iconUrl:O.a,shadowUrl:A.a});x.a.Marker.prototype.options.icon=s;var r=t.map((function(e){return e._source})).filter((function(e){var t,s;return null===(t=e.veranstaltungsort)||void 0===t||null===(s=t.adresse)||void 0===s?void 0:s.location}));return Object(u.jsxs)(f.a,{center:[52.5,13.4],zoom:11,scrollWheelZoom:!1,style:{width:"100%",height:700},children:[Object(u.jsx)(g.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map((function(e){return function(e){var t=[e.veranstaltungsort.adresse.location.lat,e.veranstaltungsort.adresse.location.lon],s=e.text.map((function(e){return Object(u.jsx)("p",{dangerouslySetInnerHTML:{__html:e.text}},e.eigenschaft)}));return Object(u.jsx)(p.a,{position:t,children:Object(u.jsxs)(m.a,{maxHeight:"200",children:[Object(u.jsx)("h2",{children:e.name}),s]})},e.guid)}(e)}))]})},w="https://memory-optimized-deployment-e09c4a.es.eu-central-1.aws.cloud.es.io:9243",N=["name","name.typeAhead","untertitel","untertitel.typeAhead","schlagwort^10","schlagwort.typeAhead"];function S(e){return e?{query:{multi_match:{type:"cross_fields",query:e,fields:N}}}:{query:{match_all:{}}}}function C(){return(C=Object(h.a)(o.a.mark((function e(t){var s,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=S(t),e.next=3,fetch("".concat(w,"/kurse/_search"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"ApiKey blNWSVRuc0JPSlRLQkhzTk03eXA6TUVvUHpTM0NUa2EtS3VhWUZtUVp1QQ"},body:JSON.stringify(s)});case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n.hits.hits);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),s=t[0],n=t[1];return Object(u.jsxs)("div",{className:"garamond flex flex-column h-100",children:[Object(u.jsxs)("section",{className:"w-100 pa2",children:[Object(u.jsxs)("div",{className:"navy georgia ma0",children:[Object(u.jsx)("h2",{className:"f2",children:"VHS Berlin Course Search"}),Object(u.jsxs)("p",{children:["The ",Object(u.jsx)("a",{href:"https://www.berlin.de/vhs/",children:"official VHS page"}),"offers a very detailed but cumbersome search. It specifically does not give good feedback on the location of courses even though that is very important for many people."]}),Object(u.jsxs)("p",{children:["This page is a tech demo to show that a better search of VHS courses is possible. It uses the powerful ",Object(u.jsx)("a",{href:"https://www.elastic.co/elasticsearch/",children:"Elasticsearch"})," engine."]}),Object(u.jsxs)("p",{children:["The source code and some documentation can be found on ",Object(u.jsx)("a",{href:"https://github.com/PapaBravo/vhs",children:"github"}),"."]})]}),Object(u.jsx)("div",{className:"pa2",children:Object(u.jsx)("input",{className:"pa3 bb br3 b--none bg-lightest-blue ma3",type:"search",placeholder:"Search Course",onChange:function(e){(function(e){return C.apply(this,arguments)})(e.target.value).then((function(e){return n(e)}))}})})]}),Object(u.jsxs)("section",{className:"flex items-start relative",children:[Object(u.jsx)("section",{className:"w-third pa2",children:Object(u.jsx)(d,{children:Object(u.jsx)(b,{filteredCourses:s})})}),Object(u.jsx)("section",{className:"w-two-thirds pa2",children:Object(u.jsx)(y,{filteredCourses:s})})]})]})};var T=function(){return Object(u.jsx)("div",{className:"tc ma0 pa4 min-vh-100",children:Object(u.jsx)(k,{details:[]})})},U=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,31)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),r(e),n(e),a(e),c(e)}))};s(24);c.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root")),U()}},[[25,1,2]]]);
//# sourceMappingURL=main.e60ce19e.chunk.js.map